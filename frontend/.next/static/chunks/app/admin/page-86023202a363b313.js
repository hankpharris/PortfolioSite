(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{8759:function(e,a,r){Promise.resolve().then(r.bind(r,6679)),Promise.resolve().then(r.bind(r,9861))},6679:function(e,a,r){"use strict";r.r(a),r.d(a,{ProjectsTable:function(){return n}});var t=r(7821),l=r(8078);function n(e){let{initialProjects:a}=e,[r,n]=(0,l.useState)(a),[s,i]=(0,l.useState)(null),[d,o]=(0,l.useState)(null),[c,u]=(0,l.useState)(null),[p,g]=(0,l.useState)(!1),[x,h]=(0,l.useState)({name:"",status:"Planned",overviewText:"",description:"",overviewImage1:null,overviewImage2:null,overviewImage3:null,link:null,gitHubLink:null}),m=e=>{i(e.id),o({...e})},v=async e=>{if(d)try{if(!(await fetch("/api/projects/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).ok)throw Error("Failed to update project");n(r.map(a=>a.id===e?d:a)),i(null),o(null)}catch(e){console.error("Error updating project:",e)}},y=()=>{i(null),o(null)},b=(e,a)=>{d&&o({...d,[e]:a})},j=(e,a)=>{h(r=>({...r,[e]:a}))},N=async()=>{try{let e=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!e.ok)throw Error("Failed to create project");let a=await e.json();n([...r,a]),g(!1),h({name:"",status:"Planned",overviewText:"",description:"",overviewImage1:null,overviewImage2:null,overviewImage3:null,link:null,gitHubLink:null})}catch(e){console.error("Error creating project:",e)}},w=async(e,a)=>{if(d){u(e);try{let r=new FormData;r.append("file",a);let t=await fetch("/api/upload",{method:"POST",body:r});if(!t.ok)throw Error("Failed to upload image");let{url:l}=await t.json();b(e,l)}catch(e){console.error("Error uploading image:",e)}finally{u(null)}}},f=async e=>{if(d&&d[e])try{if(!(await fetch("/api/upload",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:d[e]})})).ok)throw Error("Failed to delete image");b(e,"")}catch(e){console.error("Error deleting image:",e)}},k=async e=>{if(confirm("Are you sure you want to delete this project?"))try{if(!(await fetch("/api/projects/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete project");n(r.filter(a=>a.id!==e))}catch(e){console.error("Error deleting project:",e)}},C=async(e,a)=>{u(e);try{let r=new FormData;r.append("file",a);let t=await fetch("/api/upload",{method:"POST",body:r});if(!t.ok)throw Error("Failed to upload image");let{url:l}=await t.json();h(a=>({...a,[e]:l}))}catch(e){console.error("Error uploading image:",e)}finally{u(null)}};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-end",children:p?(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:N,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Create"}),(0,t.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancel"})]}):(0,t.jsx)("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"New Project"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[(0,t.jsx)("th",{className:"px-4 py-2",children:"ID"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Name"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Overview"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Description"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Images"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Links"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Actions"})]})}),(0,t.jsxs)("tbody",{children:[p&&(0,t.jsxs)("tr",{className:"border-t dark:border-gray-700",children:[(0,t.jsx)("td",{className:"px-4 py-2 text-gray-600 dark:text-gray-400",children:"New"}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)("input",{type:"text",value:x.name,onChange:e=>j("name",e.target.value),className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600",placeholder:"Project Name"})}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsxs)("select",{value:x.status,onChange:e=>j("status",e.target.value),className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600",children:[(0,t.jsx)("option",{value:"InProgress",children:"In Progress"}),(0,t.jsx)("option",{value:"CompleteMaintained",children:"Complete (Maintained)"}),(0,t.jsx)("option",{value:"CompleteUnmaintained",children:"Complete (Unmaintained)"}),(0,t.jsx)("option",{value:"Planned",children:"Planned"})]})}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)("textarea",{value:x.overviewText||"",onChange:e=>j("overviewText",e.target.value),className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600",rows:3,placeholder:"Overview"})}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)("textarea",{value:x.description||"",onChange:e=>j("description",e.target.value),className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600",rows:3,placeholder:"Description"})}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)("div",{className:"space-y-2",children:["overviewImage1","overviewImage2","overviewImage3"].map(e=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{var r;let t=null===(r=a.target.files)||void 0===r?void 0:r[0];t&&C(e,t)},className:"hidden",id:"new-".concat(e)}),(0,t.jsx)("label",{htmlFor:"new-".concat(e),className:"block px-3 py-1 text-sm text-center rounded cursor-pointer\n                                                        ".concat(c===e?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"," text-white"),children:c===e?"Uploading...":"Upload Image"}),x[e]&&(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Current: ",x[e]]})]},e))})}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"text",value:x.link||"",onChange:e=>j("link",e.target.value),placeholder:"Project URL",className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600"}),(0,t.jsx)("input",{type:"text",value:x.gitHubLink||"",onChange:e=>j("gitHubLink",e.target.value),placeholder:"GitHub URL",className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600"})]})}),(0,t.jsx)("td",{className:"px-4 py-2"})]}),r.map(e=>(0,t.jsxs)("tr",{className:"border-t dark:border-gray-700",children:[(0,t.jsx)("td",{className:"px-4 py-2 text-gray-600 dark:text-gray-400",children:e.id}),(0,t.jsx)("td",{className:"px-4 py-2",children:s===e.id?(0,t.jsx)("input",{type:"text",value:(null==d?void 0:d.name)||"",onChange:e=>b("name",e.target.value),className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600"}):e.name}),(0,t.jsx)("td",{className:"px-4 py-2",children:s===e.id?(0,t.jsxs)("select",{value:(null==d?void 0:d.status)||"",onChange:e=>b("status",e.target.value),className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600",children:[(0,t.jsx)("option",{value:"InProgress",children:"In Progress"}),(0,t.jsx)("option",{value:"CompleteMaintained",children:"Complete (Maintained)"}),(0,t.jsx)("option",{value:"CompleteUnmaintained",children:"Complete (Unmaintained)"}),(0,t.jsx)("option",{value:"Planned",children:"Planned"})]}):e.status}),(0,t.jsx)("td",{className:"px-4 py-2 max-w-xs",children:s===e.id?(0,t.jsx)("textarea",{value:(null==d?void 0:d.overviewText)||"",onChange:e=>b("overviewText",e.target.value),className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600",rows:3}):(0,t.jsx)("div",{className:"truncate",children:e.overviewText})}),(0,t.jsx)("td",{className:"px-4 py-2 max-w-xs",children:s===e.id?(0,t.jsx)("textarea",{value:(null==d?void 0:d.description)||"",onChange:e=>b("description",e.target.value),className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600",rows:3}):(0,t.jsx)("div",{className:"truncate",children:e.description})}),(0,t.jsx)("td",{className:"px-4 py-2",children:s===e.id?(0,t.jsx)("div",{className:"space-y-2",children:["overviewImage1","overviewImage2","overviewImage3"].map(a=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var r;let t=null===(r=e.target.files)||void 0===r?void 0:r[0];t&&w(a,t)},className:"hidden",id:"".concat(a,"-").concat(e.id)}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("label",{htmlFor:"".concat(a,"-").concat(e.id),className:"block px-3 py-1 text-sm text-center rounded cursor-pointer\n                                                                ".concat(c===a?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"," text-white"),children:c===a?"Uploading...":"Upload Image"}),d&&d[a]&&(0,t.jsx)("button",{onClick:()=>f(a),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]}),d&&d[a]&&(0,t.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Current: ",d[a]]})]},a))}):(0,t.jsxs)("div",{className:"space-y-1",children:[e.overviewImage1&&(0,t.jsx)("div",{className:"truncate",children:"Image 1: ✓"}),e.overviewImage2&&(0,t.jsx)("div",{className:"truncate",children:"Image 2: ✓"}),e.overviewImage3&&(0,t.jsx)("div",{className:"truncate",children:"Image 3: ✓"})]})}),(0,t.jsx)("td",{className:"px-4 py-2",children:s===e.id?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("input",{type:"text",value:(null==d?void 0:d.link)||"",onChange:e=>b("link",e.target.value),placeholder:"Project URL",className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600"}),(0,t.jsx)("input",{type:"text",value:(null==d?void 0:d.gitHubLink)||"",onChange:e=>b("gitHubLink",e.target.value),placeholder:"GitHub URL",className:"w-full p-1 border rounded dark:bg-gray-700 dark:border-gray-600"})]}):(0,t.jsxs)("div",{className:"space-y-1",children:[e.link&&(0,t.jsx)("div",{className:"truncate",children:"Project: ✓"}),e.gitHubLink&&(0,t.jsx)("div",{className:"truncate",children:"GitHub: ✓"})]})}),(0,t.jsx)("td",{className:"px-4 py-2",children:s===e.id?(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsx)("button",{onClick:()=>v(e.id),className:"w-full px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Save"}),(0,t.jsx)("button",{onClick:y,className:"w-full px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>k(e.id),className:"w-full px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]}):(0,t.jsx)("button",{onClick:()=>m(e),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit"})})]},e.id))]})]})})]})}},9790:function(e,a,r){"use strict";r.d(a,{z:function(){return s}});var t=r(7821),l=r(346);let n={nav:"bg-gray-800 hover:bg-gray-900",project:"bg-blue-600 hover:bg-blue-700",github:"bg-green-600 hover:bg-green-700"};function s(e){let{href:a,children:r,variant:s="project",isExternal:i=!1,onClick:d}=e,o="".concat("inline-flex items-center px-4 py-2 text-white rounded transition-colors duration-200"," ").concat(n[s]);return d?(0,t.jsx)("button",{onClick:d,className:o,children:r}):i?(0,t.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:o,children:r}):(0,t.jsx)(l.default,{href:a||"#",className:o,children:r})}},9861:function(e,a,r){"use strict";r.r(a),r.d(a,{SignOutButton:function(){return s}});var t=r(7821),l=r(3414),n=r(9790);function s(){return(0,t.jsx)(n.z,{onClick:()=>(0,l.signOut)({callbackUrl:"/"}),variant:"nav",href:"#",children:"Sign Out"})}},346:function(e,a,r){"use strict";r.d(a,{default:function(){return l.a}});var t=r(1844),l=r.n(t)}},function(e){e.O(0,[844,414,115,69,744],function(){return e(e.s=8759)}),_N_E=e.O()}]);