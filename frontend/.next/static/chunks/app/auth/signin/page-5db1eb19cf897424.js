(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{1603:function(e,n,r){Promise.resolve().then(r.bind(r,5713))},5713:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return l}});var t=r(7821),i=r(3414),o=r(6665),c=r(8078),s=r(2022);function l(){let e=(0,o.useRouter)(),[n,r]=(0,c.useState)(null),l=async()=>{try{let n=window.location.hostname===s.env.NEXT_PUBLIC_PERSONAL_DOMAIN,t=n?"github-personal":"github-vercel";console.log("Current hostname:",window.location.hostname),console.log("Using provider:",t),console.log("Expected callback URL:",n?"".concat(s.env.NEXT_PUBLIC_PERSONAL_DOMAIN,"/api/auth/callback/github-personal"):"".concat(s.env.NEXT_PUBLIC_VERCEL_URL,"/api/auth/callback/github-vercel"));let o=await (0,i.signIn)(t,{callbackUrl:"/admin",redirect:!1});(null==o?void 0:o.error)?(console.error("Sign in error:",o.error),r("Failed to sign in with GitHub: ".concat(o.error))):(null==o?void 0:o.url)&&e.push(o.url)}catch(e){console.error("Sign in error:",e),r("An error occurred during sign in")}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to Admin Panel"})}),(0,t.jsxs)("div",{className:"mt-8 space-y-6",children:[n&&(0,t.jsx)("div",{className:"text-red-500 text-sm text-center",children:n}),(0,t.jsx)("button",{onClick:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Sign in with GitHub"})]})]})})}},6665:function(e,n,r){"use strict";var t=r(319);r.o(t,"useRouter")&&r.d(n,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[414,115,69,744],function(){return e(e.s=1603)}),_N_E=e.O()}]);