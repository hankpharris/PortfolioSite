(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[226],{998:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(8078);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),i=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),u=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:i,iconNode:s,...d},f)=>(0,r.createElement)("svg",{ref:f,...c,width:t,height:t,stroke:e,strokeWidth:o?24*Number(n)/Number(t):n,className:l("lucide",a),...!i&&!u(d)&&{"aria-hidden":"true"},...d},[...s.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(i)?i:[i]])),d=(e,t)=>{let n=(0,r.forwardRef)(({className:n,...a},u)=>(0,r.createElement)(s,{ref:u,iconNode:t,className:l(`lucide-${o(i(e))}`,`lucide-${e}`,n),...a}));return n.displayName=i(e),n}},6701:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(998).Z)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},8904:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(998).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},8899:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(998).Z)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},866:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(998).Z)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]])},5747:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(998).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},346:function(e,t,n){"use strict";n.d(t,{default:function(){return o.a}});var r=n(1844),o=n.n(r)},6665:function(e,t,n){"use strict";var r=n(319);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},1326:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(8078),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,l=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return l(function(){o.value=n,o.getSnapshot=t,c(o)&&s({inst:o})},[e,n,t]),i(function(){return c(o)&&s({inst:o}),e(function(){c(o)&&s({inst:o})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},3805:function(e,t,n){"use strict";e.exports=n(1326)},1469:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c"}},4487:function(e,t,n){"use strict";let r;n.d(t,{x8:function(){return tv},VY:function(){return tf},aV:function(){return td},h_:function(){return ts},fC:function(){return tu},Dx:function(){return tp},xz:function(){return tc}});var o,a,i,l,u,c,s,d=n(8078),f=n.t(d,2);function p(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function v(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function m(...e){return t=>{let n=!1,r=e.map(e=>{let r=v(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():v(e[t],null)}}}}function h(...e){return d.useCallback(m(...e),e)}var g=n(7821),y=globalThis?.document?d.useLayoutEffect:()=>{},w=f[" useId ".trim().toString()]||(()=>void 0),b=0;function E(e){let[t,n]=d.useState(w());return y(()=>{e||n(e=>e??String(b++))},[e]),e||(t?`radix-${t}`:"")}var _=f[" useInsertionEffect ".trim().toString()]||y;Symbol("RADIX:SYNC_STATE");var x=n(457);function C(e){let t=function(e){let t=d.forwardRef((e,t)=>{let{children:n,...r}=e;if(d.isValidElement(n)){let e,o;let a=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref,i=function(e,t){let n={...t};for(let r in t){let o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...e)=>{let t=a(...e);return o(...e),t}:o&&(n[r]=o):"style"===r?n[r]={...o,...a}:"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==d.Fragment&&(i.ref=t?m(t,a):a),d.cloneElement(n,i)}return d.Children.count(n)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=d.forwardRef((e,n)=>{let{children:r,...o}=e,a=d.Children.toArray(r),i=a.find(S);if(i){let e=i.props.children,r=a.map(t=>t!==i?t:d.Children.count(e)>1?d.Children.only(null):d.isValidElement(e)?e.props.children:null);return(0,g.jsx)(t,{...o,ref:n,children:d.isValidElement(e)?d.cloneElement(e,void 0,r):null})}return(0,g.jsx)(t,{...o,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var R=Symbol("radix.slottable");function S(e){return d.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===R}var N=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=C(`Primitive.${t}`),r=d.forwardRef((e,r)=>{let{asChild:o,...a}=e,i=o?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,g.jsx)(i,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function O(e){let t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...e)=>t.current?.(...e),[])}var k="dismissableLayer.update",T=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),A=d.forwardRef((e,t)=>{var n,r;let{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:u,onDismiss:s,...f}=e,v=d.useContext(T),[m,y]=d.useState(null),w=null!==(r=null==m?void 0:m.ownerDocument)&&void 0!==r?r:null===(n=globalThis)||void 0===n?void 0:n.document,[,b]=d.useState({}),E=h(t,e=>y(e)),_=Array.from(v.layers),[x]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(x),R=m?_.indexOf(m):-1,S=v.layersWithOutsidePointerEventsDisabled.size>0,A=R>=C,j=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===(t=globalThis)||void 0===t?void 0:t.document,r=O(e),o=d.useRef(!1),a=d.useRef(()=>{});return d.useEffect(()=>{let e=e=>{if(e.target&&!o.current){let t=function(){L("dismissableLayer.pointerDownOutside",r,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",a.current),a.current=t,n.addEventListener("click",a.current,{once:!0})):t()}else n.removeEventListener("click",a.current);o.current=!1},t=window.setTimeout(()=>{n.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",a.current)}},[n,r]),{onPointerDownCapture:()=>o.current=!0}}(e=>{let t=e.target,n=[...v.branches].some(e=>e.contains(t));!A||n||(null==i||i(e),null==u||u(e),e.defaultPrevented||null==s||s())},w),I=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===(t=globalThis)||void 0===t?void 0:t.document,r=O(e),o=d.useRef(!1);return d.useEffect(()=>{let e=e=>{e.target&&!o.current&&L("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)},[n,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}(e=>{let t=e.target;[...v.branches].some(e=>e.contains(t))||(null==l||l(e),null==u||u(e),e.defaultPrevented||null==s||s())},w);return!function(e,t=globalThis?.document){let n=O(e);d.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{R!==v.layers.size-1||(null==a||a(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},w),d.useEffect(()=>{if(m)return o&&(0===v.layersWithOutsidePointerEventsDisabled.size&&(c=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(m)),v.layers.add(m),D(),()=>{o&&1===v.layersWithOutsidePointerEventsDisabled.size&&(w.body.style.pointerEvents=c)}},[m,w,o,v]),d.useEffect(()=>()=>{m&&(v.layers.delete(m),v.layersWithOutsidePointerEventsDisabled.delete(m),D())},[m,v]),d.useEffect(()=>{let e=()=>b({});return document.addEventListener(k,e),()=>document.removeEventListener(k,e)},[]),(0,g.jsx)(N.div,{...f,ref:E,style:{pointerEvents:S?A?"auto":"none":void 0,...e.style},onFocusCapture:p(e.onFocusCapture,I.onFocusCapture),onBlurCapture:p(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:p(e.onPointerDownCapture,j.onPointerDownCapture)})});function D(){let e=new CustomEvent(k);document.dispatchEvent(e)}function L(e,t,n,r){let{discrete:o}=r,a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});(t&&a.addEventListener(e,t,{once:!0}),o)?a&&x.flushSync(()=>a.dispatchEvent(i)):a.dispatchEvent(i)}A.displayName="DismissableLayer",d.forwardRef((e,t)=>{let n=d.useContext(T),r=d.useRef(null),o=h(t,r);return d.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,g.jsx)(N.div,{...e,ref:o})}).displayName="DismissableLayerBranch";var j="focusScope.autoFocusOnMount",I="focusScope.autoFocusOnUnmount",M={bubbles:!1,cancelable:!0},P=d.forwardRef((e,t)=>{let{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[l,u]=d.useState(null),c=O(o),s=O(a),f=d.useRef(null),p=h(t,e=>u(e)),v=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let e=function(e){if(v.paused||!l)return;let t=e.target;l.contains(t)?f.current=t:V(f.current,{select:!0})},t=function(e){if(v.paused||!l)return;let t=e.relatedTarget;null===t||l.contains(t)||V(f.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&V(l)});return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[r,l,v.paused]),d.useEffect(()=>{if(l){U.add(v);let e=document.activeElement;if(!l.contains(e)){let t=new CustomEvent(j,M);l.addEventListener(j,c),l.dispatchEvent(t),t.defaultPrevented||(function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.activeElement;for(let r of e)if(V(r,{select:t}),document.activeElement!==n)return}(F(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&V(l))}return()=>{l.removeEventListener(j,c),setTimeout(()=>{let t=new CustomEvent(I,M);l.addEventListener(I,s),l.dispatchEvent(t),t.defaultPrevented||V(null!=e?e:document.body,{select:!0}),l.removeEventListener(I,s),U.remove(v)},0)}}},[l,c,s,v]);let m=d.useCallback(e=>{if(!n&&!r||v.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,o=document.activeElement;if(t&&o){let t=e.currentTarget,[r,a]=function(e){let t=F(e);return[W(t,e),W(t.reverse(),e)]}(t);r&&a?e.shiftKey||o!==a?e.shiftKey&&o===r&&(e.preventDefault(),n&&V(a,{select:!0})):(e.preventDefault(),n&&V(r,{select:!0})):o===t&&e.preventDefault()}},[n,r,v.paused]);return(0,g.jsx)(N.div,{tabIndex:-1,...i,ref:p,onKeyDown:m})});function F(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function W(e,t){for(let n of e)if(!function(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===n||e!==n);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function V(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){var n;let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}P.displayName="FocusScope";var U=(r=[],{add(e){let t=r[0];e!==t&&(null==t||t.pause()),(r=B(r,e)).unshift(e)},remove(e){var t;null===(t=(r=B(r,e))[0])||void 0===t||t.resume()}});function B(e,t){let n=[...e],r=n.indexOf(t);return -1!==r&&n.splice(r,1),n}var $=d.forwardRef((e,t)=>{var n,r;let{container:o,...a}=e,[i,l]=d.useState(!1);y(()=>l(!0),[]);let u=o||i&&(null===(r=globalThis)||void 0===r?void 0:null===(n=r.document)||void 0===n?void 0:n.body);return u?x.createPortal((0,g.jsx)(N.div,{...a,ref:t}),u):null});$.displayName="Portal";var Z=e=>{var t,n;let r,o;let{present:a,children:i}=e,l=function(e){var t,n;let[r,o]=d.useState(),a=d.useRef(null),i=d.useRef(e),l=d.useRef("none"),[u,c]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},d.useReducer((e,t)=>{let r=n[e][t];return null!=r?r:e},t));return d.useEffect(()=>{let e=z(a.current);l.current="mounted"===u?e:"none"},[u]),y(()=>{let t=a.current,n=i.current;if(n!==e){let r=l.current,o=z(t);e?c("MOUNT"):"none"===o||(null==t?void 0:t.display)==="none"?c("UNMOUNT"):n&&r!==o?c("ANIMATION_OUT"):c("UNMOUNT"),i.current=e}},[e,c]),y(()=>{if(r){var e;let t;let n=null!==(e=r.ownerDocument.defaultView)&&void 0!==e?e:window,o=e=>{let o=z(a.current).includes(e.animationName);if(e.target===r&&o&&(c("ANIMATION_END"),!i.current)){let e=r.style.animationFillMode;r.style.animationFillMode="forwards",t=n.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=e)})}},u=e=>{e.target===r&&(l.current=z(a.current))};return r.addEventListener("animationstart",u),r.addEventListener("animationcancel",o),r.addEventListener("animationend",o),()=>{n.clearTimeout(t),r.removeEventListener("animationstart",u),r.removeEventListener("animationcancel",o),r.removeEventListener("animationend",o)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:d.useCallback(e=>{a.current=e?getComputedStyle(e):null,o(e)},[])}}(a),u="function"==typeof i?i({present:l.isPresent}):d.Children.only(i),c=h(l.ref,(r=null===(t=Object.getOwnPropertyDescriptor(u.props,"ref"))||void 0===t?void 0:t.get)&&"isReactWarning"in r&&r.isReactWarning?u.ref:(r=null===(n=Object.getOwnPropertyDescriptor(u,"ref"))||void 0===n?void 0:n.get)&&"isReactWarning"in r&&r.isReactWarning?u.props.ref:u.props.ref||u.ref);return"function"==typeof i||l.isPresent?d.cloneElement(u,{ref:c}):null};function z(e){return(null==e?void 0:e.animationName)||"none"}Z.displayName="Presence";var q=0;function K(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var J=function(){return(J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function X(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}"function"==typeof SuppressedError&&SuppressedError;var Y="right-scroll-bar-position",H="width-before-scroll-bar";function G(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Q="undefined"!=typeof window?d.useLayoutEffect:d.useEffect,ee=new WeakMap,et=(void 0===o&&(o={}),(void 0===a&&(a=function(e){return e}),i=[],l=!1,u={read:function(){if(l)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:null},useMedium:function(e){var t=a(e,l);return i.push(t),function(){i=i.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(l=!0;i.length;){var t=i;i=[],t.forEach(e)}i={push:function(t){return e(t)},filter:function(){return i}}},assignMedium:function(e){l=!0;var t=[];if(i.length){var n=i;i=[],n.forEach(e),t=i}var r=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(r)};o(),i={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),i}}}}).options=J({async:!0,ssr:!1},o),u),en=function(){},er=d.forwardRef(function(e,t){var n,r,o,a,i=d.useRef(null),l=d.useState({onScrollCapture:en,onWheelCapture:en,onTouchMoveCapture:en}),u=l[0],c=l[1],s=e.forwardProps,f=e.children,p=e.className,v=e.removeScrollBar,m=e.enabled,h=e.shards,g=e.sideCar,y=e.noRelative,w=e.noIsolation,b=e.inert,E=e.allowPinchZoom,_=e.as,x=e.gapMode,C=X(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=(n=[i,t],r=function(e){return n.forEach(function(t){return G(t,e)})},(o=(0,d.useState)(function(){return{value:null,callback:r,facade:{get current(){return o.value},set current(value){var e=o.value;e!==value&&(o.value=value,o.callback(value,e))}}}})[0]).callback=r,a=o.facade,Q(function(){var e=ee.get(a);if(e){var t=new Set(e),r=new Set(n),o=a.current;t.forEach(function(e){r.has(e)||G(e,null)}),r.forEach(function(e){t.has(e)||G(e,o)})}ee.set(a,n)},[n]),a),S=J(J({},C),u);return d.createElement(d.Fragment,null,m&&d.createElement(g,{sideCar:et,removeScrollBar:v,shards:h,noRelative:y,noIsolation:w,inert:b,setCallbacks:c,allowPinchZoom:!!E,lockRef:i,gapMode:x}),s?d.cloneElement(d.Children.only(f),J(J({},S),{ref:R})):d.createElement(void 0===_?"div":_,J({},S,{className:p,ref:R}),f))});er.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},er.classNames={fullWidth:H,zeroRight:Y};var eo=function(e){var t=e.sideCar,n=X(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw Error("Sidecar medium not found");return d.createElement(r,J({},n))};eo.isSideCarExport=!0;var ea=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=s||n.nc;return t&&e.setAttribute("nonce",t),e}())){var o,a;(o=t).styleSheet?o.styleSheet.cssText=r:o.appendChild(document.createTextNode(r)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ei=function(){var e=ea();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},el=function(){var e=ei();return function(t){return e(t.styles,t.dynamic),null}},eu={left:0,top:0,right:0,gap:0},ec=function(e){return parseInt(e||"",10)||0},es=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[ec(n),ec(r),ec(o)]},ed=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return eu;var t=es(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ef=el(),ep="data-scroll-locked",ev=function(e,t,n,r){var o=e.left,a=e.top,i=e.right,l=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(l,"px ").concat(r,";\n  }\n  body[").concat(ep,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Y," {\n    right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(H," {\n    margin-right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(Y," .").concat(Y," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(H," .").concat(H," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(ep,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},em=function(){var e=parseInt(document.body.getAttribute(ep)||"0",10);return isFinite(e)?e:0},eh=function(){d.useEffect(function(){return document.body.setAttribute(ep,(em()+1).toString()),function(){var e=em()-1;e<=0?document.body.removeAttribute(ep):document.body.setAttribute(ep,e.toString())}},[])},eg=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=void 0===r?"margin":r;eh();var a=d.useMemo(function(){return ed(o)},[o]);return d.createElement(ef,{styles:ev(a,!t,o,n?"":"!important")})},ey=!1;if("undefined"!=typeof window)try{var ew=Object.defineProperty({},"passive",{get:function(){return ey=!0,!0}});window.addEventListener("test",ew,ew),window.removeEventListener("test",ew,ew)}catch(e){ey=!1}var eb=!!ey&&{passive:!1},eE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===n[t])},e_=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),ex(e,r)){var o=eC(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ex=function(e,t){return"v"===e?eE(t,"overflowY"):eE(t,"overflowX")},eC=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},eR=function(e,t,n,r,o){var a,i=(a=window.getComputedStyle(t).direction,"h"===e&&"rtl"===a?-1:1),l=i*r,u=n.target,c=t.contains(u),s=!1,d=l>0,f=0,p=0;do{var v=eC(e,u),m=v[0],h=v[1]-v[2]-i*m;(m||h)&&ex(e,u)&&(f+=h,p+=m),u=u.parentNode.host||u.parentNode}while(!c&&u!==document.body||c&&(t.contains(u)||t===u));return d&&(o&&1>Math.abs(f)||!o&&l>f)?s=!0:!d&&(o&&1>Math.abs(p)||!o&&-l>p)&&(s=!0),s},eS=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eN=function(e){return[e.deltaX,e.deltaY]},eO=function(e){return e&&"current"in e?e.current:e},ek=0,eT=[],eA=(et.useMedium(function(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),o=d.useState(ek++)[0],a=d.useState(el)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=(function(e,t,n){if(n||2==arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(eO),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var o,a=eS(e),l=n.current,u="deltaX"in e?e.deltaX:l[0]-a[0],c="deltaY"in e?e.deltaY:l[1]-a[1],s=e.target,d=Math.abs(u)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===s.type)return!1;var f=e_(d,s);if(!f)return!0;if(f?o=d:(o="v"===d?"h":"v",f=e_(d,s)),!f)return!1;if(!r.current&&"changedTouches"in e&&(u||c)&&(r.current=o),!o)return!0;var p=r.current||o;return eR(p,t,e,"h"===p?u:c,!0)},[]),u=d.useCallback(function(e){if(eT.length&&eT[eT.length-1]===a){var n="deltaY"in e?eN(e):eS(e),r=t.current.filter(function(t){var r;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(r=t.delta)[0]===n[0]&&r[1]===n[1]})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var o=(i.current.shards||[]).map(eO).filter(Boolean).filter(function(t){return t.contains(e.target)});(o.length>0?l(e,o[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=d.useCallback(function(e,n,r,o){var a={name:e,delta:n,target:r,should:o,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),s=d.useCallback(function(e){n.current=eS(e),r.current=void 0},[]),f=d.useCallback(function(t){c(t.type,eN(t),t.target,l(t,e.lockRef.current))},[]),p=d.useCallback(function(t){c(t.type,eS(t),t.target,l(t,e.lockRef.current))},[]);d.useEffect(function(){return eT.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,eb),document.addEventListener("touchmove",u,eb),document.addEventListener("touchstart",s,eb),function(){eT=eT.filter(function(e){return e!==a}),document.removeEventListener("wheel",u,eb),document.removeEventListener("touchmove",u,eb),document.removeEventListener("touchstart",s,eb)}},[]);var v=e.removeScrollBar,m=e.inert;return d.createElement(d.Fragment,null,m?d.createElement(a,{styles:"\n  .block-interactivity-".concat(o," {pointer-events: none;}\n  .allow-interactivity-").concat(o," {pointer-events: all;}\n")}):null,v?d.createElement(eg,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}),eo),eD=d.forwardRef(function(e,t){return d.createElement(er,J({},e,{ref:t,sideCar:eA}))});eD.classNames=er.classNames;var eL=new WeakMap,ej=new WeakMap,eI={},eM=0,eP=function(e){return e&&(e.host||eP(e.parentNode))},eF=function(e,t,n,r){var o=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=eP(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});eI[n]||(eI[n]=new WeakMap);var a=eI[n],i=[],l=new Set,u=new Set(o),c=function(e){!e||l.has(e)||(l.add(e),c(e.parentNode))};o.forEach(c);var s=function(e){!e||u.has(e)||Array.prototype.forEach.call(e.children,function(e){if(l.has(e))s(e);else try{var t=e.getAttribute(r),o=null!==t&&"false"!==t,u=(eL.get(e)||0)+1,c=(a.get(e)||0)+1;eL.set(e,u),a.set(e,c),i.push(e),1===u&&o&&ej.set(e,!0),1===c&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return s(t),l.clear(),eM++,function(){i.forEach(function(e){var t=eL.get(e)-1,o=a.get(e)-1;eL.set(e,t),a.set(e,o),t||(ej.has(e)||e.removeAttribute(r),ej.delete(e)),o||e.removeAttribute(n)}),--eM||(eL=new WeakMap,eL=new WeakMap,ej=new WeakMap,eI={})}},eW=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),eF(r,o,n,"aria-hidden")):function(){return null}},eV="Dialog",[eU,eB]=function(e,t=[]){let n=[],r=()=>{let t=n.map(e=>d.createContext(e));return function(n){let r=n?.[e]||t;return d.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){let o=d.createContext(r),a=n.length;n=[...n,r];let i=t=>{let{scope:n,children:r,...i}=t,l=n?.[e]?.[a]||o,u=d.useMemo(()=>i,Object.values(i));return(0,g.jsx)(l.Provider,{value:u,children:r})};return i.displayName=t+"Provider",[i,function(n,i){let l=i?.[e]?.[a]||o,u=d.useContext(l);if(u)return u;if(void 0!==r)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let o=n(e)[`__scope${r}`];return{...t,...o}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}(r,...t)]}(eV),[e$,eZ]=eU(eV),ez=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=d.useRef(null),u=d.useRef(null),[c,s]=function({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){let[o,a,i]=function({defaultProp:e,onChange:t}){let[n,r]=d.useState(e),o=d.useRef(n),a=d.useRef(t);return _(()=>{a.current=t},[t]),d.useEffect(()=>{o.current!==n&&(a.current?.(n),o.current=n)},[n,o]),[n,r,a]}({defaultProp:t,onChange:n}),l=void 0!==e,u=l?e:o;{let t=d.useRef(void 0!==e);d.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${r} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,r])}return[u,d.useCallback(t=>{if(l){let n="function"==typeof t?t(e):t;n!==e&&i.current?.(n)}else a(t)},[l,e,a,i])]}({prop:r,defaultProp:null!=o&&o,onChange:a,caller:eV});return(0,g.jsx)(e$,{scope:t,triggerRef:l,contentRef:u,contentId:E(),titleId:E(),descriptionId:E(),open:c,onOpenChange:s,onOpenToggle:d.useCallback(()=>s(e=>!e),[s]),modal:i,children:n})};ez.displayName=eV;var eq="DialogTrigger",eK=d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,o=eZ(eq,n),a=h(t,o.triggerRef);return(0,g.jsx)(N.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":tn(o.open),...r,ref:a,onClick:p(e.onClick,o.onOpenToggle)})});eK.displayName=eq;var eJ="DialogPortal",[eX,eY]=eU(eJ,{forceMount:void 0}),eH=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=eZ(eJ,t);return(0,g.jsx)(eX,{scope:t,forceMount:n,children:d.Children.map(r,e=>(0,g.jsx)(Z,{present:n||a.open,children:(0,g.jsx)($,{asChild:!0,container:o,children:e})}))})};eH.displayName=eJ;var eG="DialogOverlay",eQ=d.forwardRef((e,t)=>{let n=eY(eG,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=eZ(eG,e.__scopeDialog);return a.modal?(0,g.jsx)(Z,{present:r||a.open,children:(0,g.jsx)(e1,{...o,ref:t})}):null});eQ.displayName=eG;var e0=C("DialogOverlay.RemoveScroll"),e1=d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,o=eZ(eG,n);return(0,g.jsx)(eD,{as:e0,allowPinchZoom:!0,shards:[o.contentRef],children:(0,g.jsx)(N.div,{"data-state":tn(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),e2="DialogContent",e4=d.forwardRef((e,t)=>{let n=eY(e2,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=eZ(e2,e.__scopeDialog);return(0,g.jsx)(Z,{present:r||a.open,children:a.modal?(0,g.jsx)(e8,{...o,ref:t}):(0,g.jsx)(e9,{...o,ref:t})})});e4.displayName=e2;var e8=d.forwardRef((e,t)=>{let n=eZ(e2,e.__scopeDialog),r=d.useRef(null),o=h(t,n.contentRef,r);return d.useEffect(()=>{let e=r.current;if(e)return eW(e)},[]),(0,g.jsx)(e3,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:p(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:p(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:p(e.onFocusOutside,e=>e.preventDefault())})}),e9=d.forwardRef((e,t)=>{let n=eZ(e2,e.__scopeDialog),r=d.useRef(!1),o=d.useRef(!1);return(0,g.jsx)(e3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,i;null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented||(r.current||null===(i=n.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:t=>{var a,i;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let l=t.target;(null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),e3=d.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,l=eZ(e2,n),u=d.useRef(null),c=h(t,u);return d.useEffect(()=>{var e,t;let n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:K()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:K()),q++,()=>{1===q&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),q--}},[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(P,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:(0,g.jsx)(A,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tn(l.open),...i,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ti,{titleId:l.titleId}),(0,g.jsx)(tl,{contentRef:u,descriptionId:l.descriptionId})]})]})}),e6="DialogTitle",e5=d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,o=eZ(e6,n);return(0,g.jsx)(N.h2,{id:o.titleId,...r,ref:t})});e5.displayName=e6;var e7="DialogDescription";d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,o=eZ(e7,n);return(0,g.jsx)(N.p,{id:o.descriptionId,...r,ref:t})}).displayName=e7;var te="DialogClose",tt=d.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,o=eZ(te,n);return(0,g.jsx)(N.button,{type:"button",...r,ref:t,onClick:p(e.onClick,()=>o.onOpenChange(!1))})});function tn(e){return e?"open":"closed"}tt.displayName=te;var tr="DialogTitleWarning",[to,ta]=function(e,t){let n=d.createContext(t),r=e=>{let{children:t,...r}=e,o=d.useMemo(()=>r,Object.values(r));return(0,g.jsx)(n.Provider,{value:o,children:t})};return r.displayName=e+"Provider",[r,function(r){let o=d.useContext(n);if(o)return o;if(void 0!==t)return t;throw Error(`\`${r}\` must be used within \`${e}\``)}]}(tr,{contentName:e2,titleName:e6,docsSlug:"dialog"}),ti=e=>{let{titleId:t}=e,n=ta(tr),r="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return d.useEffect(()=>{t&&!document.getElementById(t)&&console.error(r)},[r,t]),null},tl=e=>{let{contentRef:t,descriptionId:n}=e,r=ta("DialogDescriptionWarning"),o="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return d.useEffect(()=>{var e;let r=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");n&&r&&!document.getElementById(n)&&console.warn(o)},[o,t,n]),null},tu=ez,tc=eK,ts=eH,td=eQ,tf=e4,tp=e5,tv=tt},9089:function(e,t,n){"use strict";n.d(t,{RJ:function(){return eb}});var r,o=n(8078),a=n(3805);let i=()=>{},l=i(),u=Object,c=e=>e===l,s=e=>"function"==typeof e,d=(e,t)=>({...e,...t}),f=e=>s(e.then),p=new WeakMap,v=0,m=e=>{let t,n;let r=typeof e,o=e&&e.constructor,a=o==Date;if(u(e)!==e||a||o==RegExp)t=a?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=p.get(e))return t;if(t=++v+"~",p.set(e,t),o==Array){for(n=0,t="@";n<e.length;n++)t+=m(e[n])+",";p.set(e,t)}if(o==u){t="#";let r=u.keys(e).sort();for(;!c(n=r.pop());)c(e[n])||(t+=n+":"+m(e[n])+",");p.set(e,t)}}return t},h=new WeakMap,g={},y={},w="undefined",b=typeof window!=w,E=typeof document!=w,_=()=>b&&typeof window.requestAnimationFrame!=w,x=(e,t)=>{let n=h.get(e);return[()=>!c(t)&&e.get(t)||g,r=>{if(!c(t)){let o=e.get(t);t in y||(y[t]=o),n[5](t,d(o,r),o||g)}},n[6],()=>!c(t)&&t in y?y[t]:!c(t)&&e.get(t)||g]},C=!0,[R,S]=b&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],N={initFocus:e=>(E&&document.addEventListener("visibilitychange",e),R("focus",e),()=>{E&&document.removeEventListener("visibilitychange",e),S("focus",e)}),initReconnect:e=>{let t=()=>{C=!0,e()},n=()=>{C=!1};return R("online",t),R("offline",n),()=>{S("online",t),S("offline",n)}}},O=!o.useId,k=!b||"Deno"in window,T=e=>_()?window.requestAnimationFrame(e):setTimeout(e,1),A=k?o.useEffect:o.useLayoutEffect,D="undefined"!=typeof navigator&&navigator.connection,L=!k&&D&&(["slow-2g","2g"].includes(D.effectiveType)||D.saveData),j=e=>{if(s(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?m(e):"",t]},I=0,M=()=>++I;var P={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function F(...e){let[t,n,r,o]=e,a=d({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{}),i=a.populateCache,u=a.rollbackOnError,p=a.optimisticData,v=!1!==a.revalidate,m=e=>"function"==typeof u?u(e):!1!==u,g=a.throwOnError;if(s(n)){let e=[];for(let r of t.keys())!/^\$(inf|sub)\$/.test(r)&&n(t.get(r)._k)&&e.push(r);return Promise.all(e.map(y))}return y(n);async function y(n){let o;let[a]=j(n);if(!a)return;let[u,d]=x(t,a),[y,w,b,E]=h.get(t),_=y[a],C=()=>v&&(delete b[a],delete E[a],_&&_[0])?_[0](2).then(()=>u().data):u().data;if(e.length<3)return C();let R=r,S=M();w[a]=[S,0];let N=!c(p),O=u(),k=O.data,T=O._c,A=c(T)?k:T;if(N&&d({data:p=s(p)?p(A,k):p,_c:A}),s(R))try{R=R(A)}catch(e){o=e}if(R&&f(R)){if(R=await R.catch(e=>{o=e}),S!==w[a][0]){if(o)throw o;return R}o&&N&&m(o)&&(i=!0,d({data:R=A,_c:l}))}i&&!o&&(s(i)&&(R=i(R,A)),d({data:R,error:l,_c:l})),w[a][1]=M();let D=await C();if(d({_c:l}),o){if(g)throw o;return}return i?D:R}}let W=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},V=(e,t)=>{if(!h.has(e)){let n=d(N,t),r={},o=F.bind(l,e),a=i,u={},c=(e,t)=>{let n=u[e]||[];return u[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},s=(t,n,r)=>{e.set(t,n);let o=u[t];if(o)for(let e of o)e(n,r)},f=()=>{if(!h.has(e)&&(h.set(e,[r,{},{},{},o,s,c]),!k)){let t=n.initFocus(setTimeout.bind(l,W.bind(l,r,0))),o=n.initReconnect(setTimeout.bind(l,W.bind(l,r,1)));a=()=>{t&&t(),o&&o(),h.delete(e)}}};return f(),[e,o,f,a]}return[e,h.get(e)[4]]},[U,B]=V(new Map),$=d({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,n,r,o)=>{let a=n.errorRetryCount,i=o.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;(c(a)||!(i>a))&&setTimeout(r,l,o)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:L?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:L?5e3:3e3,compare:(e,t)=>m(e)==m(t),isPaused:()=>!1,cache:U,mutate:B,fallback:{}},{isOnline:()=>C,isVisible:()=>{let e=E&&document.visibilityState;return c(e)||"hidden"!==e}}),Z=(e,t)=>{let n=d(e,t);if(t){let{use:r,fallback:o}=e,{use:a,fallback:i}=t;r&&a&&(n.use=r.concat(a)),o&&i&&(n.fallback=d(o,i))}return n},z=(0,o.createContext)({}),q=b&&window.__SWR_DEVTOOLS_USE__,K=q?window.__SWR_DEVTOOLS_USE__:[],J=e=>s(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],X=()=>d($,(0,o.useContext)(z)),Y=K.concat(e=>(t,n,r)=>{let o=n&&((...e)=>{let[r]=j(t),[,,,o]=h.get(U),a=o[r];return c(a)?n(...e):(delete o[r],a)});return e(t,o,r)}),H=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};q&&(window.__SWR_DEVTOOLS_REACT__=o);let G=o.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),Q={dedupe:!0};u.defineProperty(e=>{let{value:t}=e,n=(0,o.useContext)(z),r=s(t),a=(0,o.useMemo)(()=>r?t(n):t,[r,n,t]),i=(0,o.useMemo)(()=>r?a:Z(n,a),[r,n,a]),u=a&&a.provider,c=(0,o.useRef)(l);u&&!c.current&&(c.current=V(u(i.cache||U),a));let f=c.current;return f&&(i.cache=f[0],i.mutate=f[1]),A(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,o.createElement)(z.Provider,d(e,{value:i}))},"defaultValue",{value:$});let ee=(r=(e,t,n)=>{let{cache:r,compare:i,suspense:u,fallbackData:f,revalidateOnMount:p,revalidateIfStale:v,refreshInterval:m,refreshWhenHidden:g,refreshWhenOffline:y,keepPreviousData:w}=n,[b,E,_,C]=h.get(r),[R,S]=j(e),N=(0,o.useRef)(!1),D=(0,o.useRef)(!1),L=(0,o.useRef)(R),I=(0,o.useRef)(t),W=(0,o.useRef)(n),V=()=>W.current,U=()=>V().isVisible()&&V().isOnline(),[B,$,Z,z]=x(r,R),q=(0,o.useRef)({}).current,K=c(f)?n.fallback[R]:f,J=(e,t)=>{for(let n in q)if("data"===n){if(!i(e[n],t[n])&&(!c(e[n])||!i(ei,t[n])))return!1}else if(t[n]!==e[n])return!1;return!0},X=(0,o.useMemo)(()=>{let e=!!R&&!!t&&(c(p)?!V().isPaused()&&!u&&(!!c(v)||v):p),n=t=>{let n=d(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},r=B(),o=z(),a=n(r),i=r===o?a:n(o),l=a;return[()=>{let e=n(B());return J(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>i]},[r,R]),Y=(0,a.useSyncExternalStore)((0,o.useCallback)(e=>Z(R,(t,n)=>{J(n,t)||e()}),[r,R]),X[0],X[1]),ee=!N.current,et=b[R]&&b[R].length>0,en=Y.data,er=c(en)?K:en,eo=Y.error,ea=(0,o.useRef)(er),ei=w?c(en)?ea.current:en:er,el=(!et||!!c(eo))&&(ee&&!c(p)?p:!V().isPaused()&&(u?!c(er)&&v:c(er)||v)),eu=!!(R&&t&&ee&&el),ec=c(Y.isValidating)?eu:Y.isValidating,es=c(Y.isLoading)?eu:Y.isLoading,ed=(0,o.useCallback)(async e=>{let t,r;let o=I.current;if(!R||!o||D.current||V().isPaused())return!1;let a=!0,u=e||{},d=!_[R]||!u.dedupe,f=()=>O?!D.current&&R===L.current&&N.current:R===L.current,p={isValidating:!1,isLoading:!1},v=()=>{$(p)},m=()=>{let e=_[R];e&&e[1]===r&&delete _[R]},h={isValidating:!0};c(B().data)&&(h.isLoading=!0);try{if(d&&($(h),n.loadingTimeout&&c(B().data)&&setTimeout(()=>{a&&f()&&V().onLoadingSlow(R,n)},n.loadingTimeout),_[R]=[o(S),M()]),[t,r]=_[R],t=await t,d&&setTimeout(m,n.dedupingInterval),!_[R]||_[R][1]!==r)return d&&f()&&V().onDiscarded(R),!1;p.error=l;let e=E[R];if(!c(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return v(),d&&f()&&V().onDiscarded(R),!1;let u=B().data;p.data=i(u,t)?u:t,d&&f()&&V().onSuccess(t,R,n)}catch(n){m();let e=V(),{shouldRetryOnError:t}=e;!e.isPaused()&&(p.error=n,d&&f()&&(e.onError(n,R,e),(!0===t||s(t)&&t(n))&&U()&&e.onErrorRetry(n,R,e,e=>{let t=b[R];t&&t[0]&&t[0](P.ERROR_REVALIDATE_EVENT,e)},{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return a=!1,v(),!0},[R,r]),ef=(0,o.useCallback)((...e)=>F(r,L.current,...e),[]);if(A(()=>{I.current=t,W.current=n,c(en)||(ea.current=en)}),A(()=>{if(!R)return;let e=ed.bind(l,Q),t=0,n=H(R,b,(n,r={})=>{if(n==P.FOCUS_EVENT){let n=Date.now();V().revalidateOnFocus&&n>t&&U()&&(t=n+V().focusThrottleInterval,e())}else if(n==P.RECONNECT_EVENT)V().revalidateOnReconnect&&U()&&e();else if(n==P.MUTATE_EVENT)return ed();else if(n==P.ERROR_REVALIDATE_EVENT)return ed(r)});return D.current=!1,L.current=R,N.current=!0,$({_k:S}),el&&(c(er)||k?e():T(e)),()=>{D.current=!0,n()}},[R]),A(()=>{let e;function t(){let t=s(m)?m(B().data):m;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!B().error&&(g||V().isVisible())&&(y||V().isOnline())?ed(Q).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[m,g,y,R]),(0,o.useDebugValue)(ei),u&&c(er)&&R){if(!O&&k)throw Error("Fallback data is required when using suspense in SSR.");I.current=t,W.current=n,D.current=!1;let e=C[R];if(c(e)||G(ef(e)),c(eo)){let e=ed(Q);c(ei)||(e.status="fulfilled",e.value=!0),G(e)}else throw eo}return{mutate:ef,get data(){return q.data=!0,ei},get error(){return q.error=!0,eo},get isValidating(){return q.isValidating=!0,ec},get isLoading(){return q.isLoading=!0,es}}},function(...e){let t=X(),[n,o,a]=J(e),i=Z(t,a),l=r,{use:u}=i,c=(u||[]).concat(Y);for(let e=c.length;e--;)l=c[e](l);return l(n,o||i.fetcher||null,i)});var et={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},en={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},er={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},eo={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},ea={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},ei={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},el={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},eu={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some(e=>{null!=e&&"object"==typeof e&&"id"in e&&"string"==typeof e.id&&"type"in e&&"string"==typeof e.type&&"function"in e&&null!=e.function&&"object"==typeof e.function&&"arguments"in e.function&&"string"==typeof e.function.name&&e.function.arguments}))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},ec={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},es={[et.code]:et,[en.code]:en,[er.code]:er,[eo.code]:eo,[ea.code]:ea,[ei.code]:ei,[el.code]:el,[eu.code]:eu,[ec.code]:ec};et.name,et.code,en.name,en.code,er.name,er.code,eo.name,eo.code,ea.name,ea.code,ei.name,ei.code,el.name,el.code,eu.name,eu.code,ec.name,ec.code;var ed=[et,en,er,eo,ea,ei,el,eu,ec].map(e=>e.code),ef=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let n=e.slice(0,t);if(!ed.includes(n))throw Error("Failed to parse stream string. Invalid code ".concat(n,"."));let r=JSON.parse(e.slice(t+1));return es[n].parse(r)};async function*ep(e){let{isAborted:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new TextDecoder,r=[],o=0;for(;;){let{value:a}=await e.read();if(a&&(r.push(a),o+=a.length,10!==a[a.length-1]))continue;if(0===r.length)break;let i=function(e,t){let n=new Uint8Array(t),r=0;for(let t of e)n.set(t,r),r+=t.length;return e.length=0,n}(r,o);for(let e of(o=0,n.decode(i,{stream:!0}).split("\n").filter(e=>""!==e).map(ef)))yield e;if(null==t?void 0:t()){e.cancel();break}}}var ev=((e,t=21)=>(n=t)=>{let r="",o=n;for(;o--;)r+=e[Math.random()*e.length|0];return r})("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);function em(e,t){return e&&t&&t.length?{...e,annotations:[...t]}:e}async function eh(e){let t,{reader:n,abortControllerRef:r,update:o,onFinish:a,generateId:i=ev,getCurrentDate:l=()=>new Date}=e,u=l(),c={data:[]};for await(let{type:e,value:a}of ep(n,{isAborted:()=>(null==r?void 0:r.current)===null})){"text"===e&&(c.text?c.text={...c.text,content:(c.text.content||"")+a}:c.text={id:i(),role:"assistant",content:a,createdAt:u});let n=null;"function_call"===e&&(c.function_call={id:i(),role:"assistant",content:"",function_call:a.function_call,name:a.function_call.name,createdAt:u},n=c.function_call);let r=null;"tool_calls"===e&&(c.tool_calls={id:i(),role:"assistant",content:"",tool_calls:a.tool_calls,createdAt:u},r=c.tool_calls),"data"===e&&c.data.push(...a);let l=c.text;"message_annotations"===e&&(t?t.push(...a):t=[...a],n=em(c.function_call,t),r=em(c.tool_calls,t),l=em(c.text,t)),(null==t?void 0:t.length)&&["text","function_call","tool_calls"].forEach(e=>{c[e]&&(c[e].annotations=[...t])}),o([n,r,l].filter(Boolean).map(e=>({...em(e,t)})),[...c.data])}return null==a||a(c),{messages:[c.text,c.function_call,c.tool_calls].filter(Boolean),data:c.data}}async function eg(e){var t;let{api:n,messages:r,body:o,credentials:a,headers:i,abortController:l,appendMessage:u,restoreMessagesOnFailure:c,onResponse:s,onUpdate:d,onFinish:f,generateId:p}=e,v=await fetch(n,{method:"POST",body:JSON.stringify({messages:r,...o}),headers:{"Content-Type":"application/json",...i},signal:null==(t=null==l?void 0:l())?void 0:t.signal,credentials:a}).catch(e=>{throw c(),e});if(s)try{await s(v)}catch(e){throw e}if(!v.ok)throw c(),Error(await v.text()||"Failed to fetch the chat response.");if(!v.body)throw Error("The response body is empty.");let m=v.body.getReader();if("true"===v.headers.get("X-Experimental-Stream-Data"))return await eh({reader:m,abortControllerRef:null!=l?{current:l()}:void 0,update:d,onFinish(e){f&&null!=e.text&&f(e.text)},generateId:p});{let e=new Date,t=function(e){let t=new TextDecoder;return e?function(e){return t.decode(e,{stream:!0}).split("\n").filter(e=>""!==e).map(ef).filter(Boolean)}:function(e){return e?t.decode(e,{stream:!0}):""}}(!1),n="",r={id:p(),createdAt:e,content:"",role:"assistant"};for(;;){let{done:e,value:o}=await m.read();if(e)break;if((n+=t(o)).startsWith('{"function_call":')?r.function_call=n:n.startsWith('{"tool_calls":')?r.tool_calls=n:r.content=n,u({...r}),(null==l?void 0:l())===null){m.cancel();break}}if(n.startsWith('{"function_call":')){let e=JSON.parse(n).function_call;r.function_call=e,u({...r})}if(n.startsWith('{"tool_calls":')){let e=JSON.parse(n).tool_calls;r.tool_calls=e,u({...r})}return f&&f(r),r}}async function ey(e){let{getStreamedResponse:t,experimental_onFunctionCall:n,experimental_onToolCall:r,updateChatRequest:o,getCurrentMessages:a}=e;for(;;){let e=await t();if("messages"in e){let t=!1;for(let i of e.messages)if(void 0!==i.function_call&&"string"!=typeof i.function_call||void 0!==i.tool_calls&&"string"!=typeof i.tool_calls){if(t=!0,n){let e=i.function_call;if("object"!=typeof e){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let r=await n(a(),e);if(void 0===r){t=!1;break}o(r)}if(r){let e=i.tool_calls;if(!Array.isArray(e)||e.some(e=>"object"!=typeof e)){console.warn("experimental_onToolCall should not be defined when using tools");continue}let n=await r(a(),e);if(void 0===n){t=!1;break}o(n)}}if(!t)break}else{let t=function(e){for(let t of e.messages){if(void 0!==t.tool_calls)for(let e of t.tool_calls)"object"==typeof e&&e.function.arguments&&"string"!=typeof e.function.arguments&&(e.function.arguments=JSON.stringify(e.function.arguments));void 0!==t.function_call&&"object"==typeof t.function_call&&t.function_call.arguments&&"string"!=typeof t.function_call.arguments&&(t.function_call.arguments=JSON.stringify(t.function_call.arguments))}};if((void 0===e.function_call||"string"==typeof e.function_call)&&(void 0===e.tool_calls||"string"==typeof e.tool_calls))break;if(n){let r=e.function_call;if("object"!=typeof r){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let i=await n(a(),r);if(void 0===i)break;t(i),o(i)}if(r){let n=e.tool_calls;if("object"!=typeof n){console.warn("experimental_onToolCall should not be defined when using functions");continue}let i=await r(a(),n);if(void 0===i)break;t(i),o(i)}}}}var ew=async(e,t,n,r,o,a,i,l,u,c,s,d)=>{var f,p;let v=i.current;n(t.messages,!1);let m=d?t.messages:t.messages.map(e=>{let{role:t,content:n,name:r,function_call:o,tool_calls:a,tool_call_id:i}=e;return{role:t,content:n,tool_call_id:i,...void 0!==r&&{name:r},...void 0!==o&&{function_call:o},...void 0!==a&&{tool_calls:a}}});if("string"!=typeof e){let r={id:u(),createdAt:new Date,content:"",role:"assistant"};async function h(e){let{content:o,ui:a,next:i}=await e;r.content=o,r.ui=await a,n([...t.messages,{...r}],!1),i&&await h(i)}try{let n=e({messages:m,data:t.data});await h(n)}catch(e){throw n(v,!1),e}return c&&c(r),r}return await eg({api:e,messages:m,body:{data:t.data,...a.current.body,...null==(f=t.options)?void 0:f.body,...void 0!==t.functions&&{functions:t.functions},...void 0!==t.function_call&&{function_call:t.function_call},...void 0!==t.tools&&{tools:t.tools},...void 0!==t.tool_choice&&{tool_choice:t.tool_choice}},credentials:a.current.credentials,headers:{...a.current.headers,...null==(p=t.options)?void 0:p.headers},abortController:()=>l.current,appendMessage(e){n([...t.messages,e],!1)},restoreMessagesOnFailure(){n(v,!1)},onResponse:s,onUpdate(e,a){n([...t.messages,...e],!1),r([...o||[],...a||[]],!1)},onFinish:c,generateId:u})};function eb(){let{api:e="/api/chat",id:t,initialMessages:n,initialInput:r="",sendExtraMessageFields:a,experimental_onFunctionCall:i,experimental_onToolCall:l,onResponse:u,onFinish:c,onError:s,credentials:d,headers:f,body:p,generateId:v=ev}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=(0,o.useId)(),h=null!=t?t:m,g="string"==typeof e?[e,h]:h,[y]=(0,o.useState)([]),{data:w,mutate:b}=ee([g,"messages"],null,{fallbackData:null!=n?n:y}),{data:E=!1,mutate:_}=ee([g,"loading"],null),{data:x,mutate:C}=ee([g,"streamData"],null),{data:R,mutate:S}=ee([g,"error"],null),N=(0,o.useRef)(w||[]);(0,o.useEffect)(()=>{N.current=w||[]},[w]);let O=(0,o.useRef)(null),k=(0,o.useRef)({credentials:d,headers:f,body:p});(0,o.useEffect)(()=>{k.current={credentials:d,headers:f,body:p}},[d,f,p]);let T=(0,o.useCallback)(async t=>{try{_(!0),S(void 0);let n=new AbortController;O.current=n,await ey({getStreamedResponse:()=>ew(e,t,b,C,x,k,N,O,v,c,u,a),experimental_onFunctionCall:i,experimental_onToolCall:l,updateChatRequest:e=>{t=e},getCurrentMessages:()=>N.current}),O.current=null}catch(e){if("AbortError"===e.name)return O.current=null,null;s&&e instanceof Error&&s(e),S(e)}finally{_(!1)}},[b,_,e,k,u,c,s,S,C,x,a,i,l,N,O,v]),A=(0,o.useCallback)(async function(e){let{options:t,functions:n,function_call:r,tools:o,tool_choice:a,data:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.id||(e.id=v()),T({messages:N.current.concat(e),options:t,data:i,...void 0!==n&&{functions:n},...void 0!==r&&{function_call:r},...void 0!==o&&{tools:o},...void 0!==a&&{tool_choice:a}})},[T,v]),D=(0,o.useCallback)(async function(){let{options:e,functions:t,function_call:n,tools:r,tool_choice:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===N.current.length?null:"assistant"===N.current[N.current.length-1].role?T({messages:N.current.slice(0,-1),options:e,...void 0!==t&&{functions:t},...void 0!==n&&{function_call:n},...void 0!==r&&{tools:r},...void 0!==o&&{tool_choice:o}}):T({messages:N.current,options:e,...void 0!==t&&{functions:t},...void 0!==n&&{function_call:n},...void 0!==r&&{tools:r},...void 0!==o&&{tool_choice:o}})},[T]),L=(0,o.useCallback)(()=>{O.current&&(O.current.abort(),O.current=null)},[]),j=(0,o.useCallback)(e=>{b(e,!1),N.current=e},[b]),[I,M]=(0,o.useState)(r),P=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n&&(k.current={...k.current,...n}),e.preventDefault(),I&&(A({content:I,role:"user",createdAt:new Date},t),M(""))},[I,A]);return{messages:w||[],error:R,append:A,reload:D,stop:L,setMessages:j,input:I,setInput:M,handleInputChange:e=>{M(e.target.value)},handleSubmit:P,isLoading:E,data:x}}}}]);